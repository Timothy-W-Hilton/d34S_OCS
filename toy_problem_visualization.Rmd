---
jupyter:
  jupytext:
    text_representation:
      extension: .Rmd
      format_name: rmarkdown
      format_version: '1.1'
      jupytext_version: 1.2.4
  kernelspec:
    display_name: d34Shv
    language: python
    name: d34shv
---

```{python}
import toy_problem as TP

import holoviews as hv
import geoviews as gv
import geoviews.feature as gf
import xarray as xr  # want this in toy_problem.py eventuall
import hvplot.xarray

from IPython.display import display

from stem_pytools.domain import calc_grid_area
from timutils.git_tools import print_cwd_git_version
```

```{python}
hv.extension('bokeh')
print_cwd_git_version()
```

```{python}
draw_plots = True
```

```{python}
# da_of, anthro_conc, ocean_conc, plant_conc = TP.main()
OCS = TP.main()
```

```{python}
opts_common = {'coastline': True, 'legend': False}
```

```{python}
qm_focean = OCS['ocean_flux'].hvplot.quadmesh('lon', 'lat', label='ocean fOCS', **opts_common)
qm_ocean = OCS['ocean_conc'].hvplot.quadmesh('lon', 'lat', label='ocean [OCS]', **opts_common)
if draw_plots:
    display(qm_focean + qm_ocean)
```

```{python}
qm_fanthro = OCS['anthro_flux'].hvplot.quadmesh('lon', 'lat', label='anthro fOCS', **opts_common)
qm_anthro = OCS['anthro_conc'].hvplot.quadmesh('lon', 'lat', label='anthro [OCS]', **opts_common)
if draw_plots:
    display(qm_fanthro + qm_anthro)
```

```{python}
qm_fplant = OCS['plant_flux'].hvplot.quadmesh('lon', 'lat', label='plant fOCS', **opts_common)
qm_plant = OCS['plant_conc'].hvplot.quadmesh('lon', 'lat', label='plant [OCS]', **opts_common)                                            
if draw_plots:
    display(qm_fplant + qm_plant)
```
